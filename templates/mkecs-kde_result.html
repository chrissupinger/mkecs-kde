{% extends "mkecs-kde.html" %}
{% block kde_form_data_year %}

  <select id = "kde_form_data_year_select" class = "kde_form_data_year_select" name = "kde_form_data_year_select">
    <option value = "" disabled selected hidden></option>
    {% for year in years %}
    <option value = "{{ year }}"{% if year == form_input[0] %} selected{% endif %}>{{ year }}</option>
    {% endfor %}
  </select>

{% endblock %}

{% block kde_form_data_month %}

  <select id = "kde_form_data_month_select" class = "kde_form_data_month_select" name = "kde_form_data_month_select">
    <option value = "" disabled selected hidden></option>
    {% for month in months %}
    <option value = "{{ month }}"{% if month == form_input[1] %} selected{% endif %}>{{ month }}</option>
    {% endfor %}
  </select>

{% endblock %}

{% block kde_form_data_code %}

  <select id = "kde_form_data_code_select" class = "kde_form_data_code_select" name = "kde_form_data_code_select">
    <option value = "" disabled selected hidden></option>
    {% for code in codes %}
    <option value = "{{ code }}"{% if code == form_input[2] %} selected{% endif %}>{{ code }}</option>
    {% endfor %}
  </select>

{% endblock %}

{% block kde_form_data_kernel %}

  <select id = "kde_form_data_kernel_select" class = "kde_form_data_kernel_select" name = "kde_form_data_kernel_select">
    <option value = "" disabled selected hidden></option>
    {% for kernel in kernels %}
    <option value = "{{ kernel }}"{% if kernel == form_input[3] %} selected{% endif %}>{{ kernel }}</option>
    {% endfor %}
  </select>

{% endblock %}

{% block kde_form_data_bandwidth %}

  <select id = "kde_form_data_bandwidth_select" class = "kde_form_data_bandwidth_select" name = "kde_form_data_bandwidth_select">
    <option value = "" disabled selected hidden></option>
    {% for bandwidth in bandwidths %}
    <option value = "{{ bandwidth }}"{% if bandwidth == form_input[4] %} selected{% endif %}>{{ bandwidth }}</option>
    {% endfor %}
  </select>

{% endblock %}

{% block kde_form_data_metric %}

  <select id = "kde_form_data_metric_select"  class = "kde_form_data_metric_select" name = "kde_form_data_metric_select">
    <option value = "" disabled selected hidden></option>
    {% for metric in metrics %}
    <option value = "{{ metric }}"{% if metric == form_input[5] %} selected{% endif %}>{{ metric }}</option>
    {% endfor %}
  </select>

{% endblock %}

{% block kde_form_control %}

    <div class = "kde_form_control">
      <div class = "session_status">Status: <span id = "session_start" class = "session_start">{{ session_status }}</span></div>
      <div class = "kde_form_buttons">
        <button id = "kde_form_exe" class = "kde_form_exe" name = "kde_form_exe" type = "submit">Submit</button>
        <button disabled id = "kde_form_exe_disabled" class = "kde_form_exe_disabled" name = "kde_form_exe_disabled" style = "display: none">Submit</button>
        <button id = "kde_form_res" class = "kde_form_res" name = "kde_form_res"><a href = "{{ url_for('kde_startup') }}">Clear</a></button>
      </div>
    </div>

{% endblock %}

{% block kde_display %}

  <div class = "kde_display">
    {{kde_script | safe}}
    {{kde_div | safe}}
  </div>

{% endblock %}

{% block data_canvas %}

  <div class = "data_canvas">
    <div class = "dataset_parameters">
      <div class = "dataset_parameters_viocnt">
        <div class = "dataset_parameters_viocnt_subheader">Event Count</div>
        <div class = "dataset_parameters_viocnt_numerics">
          <div class = "dataset_parameters_viocnt_numerics_cnt">{{ vio_cnt }}</div>
          <div class = "dataset_tt_text">
            <div class = "dataset_tt_text_subheader">Occurring In</div>
            <div class = "dataset_tt_text_ald">15 Aldermanic Districts <i class = "far fa-map"></i>
              <span class = "ald_tt_text"><img src = "{{ url_for('static', filename = 'tt_img/mke_ald.png') }}">
              <a target = "_blank" href = "https://city.milwaukee.gov/CommonCouncil">Aldermanic Districts</a>,
              wholly known as the Common Council, represent the policy-making and
              legislative boundaries in the City of Milwaukee. There are a total
              of 15 districts.
              </span>
            </div>
            <div class = "dataset_tt_text_mpd">7 MPD Districts <i class = "far fa-map"></i>
              <span class = "mpd_tt_text"><img src = "{{ url_for('static', filename = 'tt_img/mke_mpd.png') }}">
              The <a target = "_blank" href = "https://city.milwaukee.gov/Directory/police/Police-Districts.htm">Milwaukee Police Department Districts</a>
              serve as administrative boundaries and a patrol distribution control
              measure across a contiguous area of responsibility in the City of
              Milwaukee. There are a total of 7 districts.
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class = "dataset_control">
      <button class = "dataset_control_tab" onclick = "show_dataset(event, 'ald_dataset_display')" id = "dataset_control_tab_init">Aldermanic Districts</button>
      <button class = "dataset_control_tab" onclick = "show_dataset(event, 'mpd_dataset_display')">MPD Districts</button>

    </div>
    <div id = "ald_dataset_display" class = "dataset_display">
      {{ald_script | safe}}
      {{ald_div | safe}}
    </div>
    <div id = "mpd_dataset_display" class = "dataset_display">
      {{ mpd_script | safe }}
      {{ mpd_div | safe }}
    </div>
  </div>

  <script>document.getElementById("dataset_control_tab_init").click();</script>

{% endblock %}